<!DOCTYPE html>
<html lang="cs" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Registrace</title>
    <!-- Bootstrap + vlastní CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <style>
        /* jednoduchá karta uprostřed obrazovky */
        body { background-color: #f8f9fa; display:flex; align-items:center; justify-content:center; min-height:100vh; font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif; }
        .login-card { width:100%; max-width:420px; background:#fff; border:1px solid #dee2e6; border-radius:.75rem; box-shadow:0 4px 18px rgba(0,0,0,.06); padding:2rem; }
        .login-card .brand { font-weight:600; font-size:1.25rem; color:#0d6efd; }
        .login-card .form-control { border-radius:.5rem; padding:.6rem .75rem; }
        .login-card button { border-radius:.5rem; padding:.6rem; }
        .login-footer { font-size:.875rem; color:#6c757d; text-align:center; margin-top:1rem; }
        .login-footer a { color:#0d6efd; text-decoration:none; }
        .login-footer a:hover { text-decoration:underline; }
    </style>
</head>
<body>
<div class="login-card">
    <!-- mini brand -->
    <div class="text-center mb-4"><div class="brand">PojištěníApp</div></div>
    <hr>

    <!-- Formulář registrace: POST /register; objekt 'form' -->
    <form th:action="@{/register}" th:object="${form}" method="post" class="row g-3">
        <!-- CSRF token od Spring Security -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div class="col-12">
            <label class="form-label">Uživatelské jméno</label>
            <input class="form-control" th:field="*{username}" required>
            <!-- chybové hlášky z Bean Validation -->
            <div class="text-danger small" th:errors="*{username}"></div>
        </div>

        <div class="col-12">
            <label class="form-label">Heslo</label>
            <input class="form-control" type="password" th:field="*{password}" required>
            <div class="text-danger small" th:errors="*{password}"></div>
        </div>

        <div class="col-12">
            <label class="form-label">Potvrzení hesla</label>
            <input class="form-control" type="password" th:field="*{passwordAgain}" required>
            <div class="text-danger small" th:errors="*{passwordAgain}"></div>
        </div>

        <div class="col-12 d-flex gap-2 mt-2">
            <button class="btn btn-primary w-100" type="submit">Zaregistrovat</button>
        </div>
    </form>

    <!-- navigace: už mám účet -->
    <div class="login-footer">
        <a th:href="@{/login}">Už máte účet? Přihlásit se</a>
    </div>
</div>
</body>
</html>
